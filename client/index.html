<!DOCTYPE html>
<head>
    <script type="text/javascript" src="/socket.io/socket.io.js"></script>
    <script type="text/javascript" src="net.js"></script>
    <script type="text/javascript" src="crafty.js"></script>
    <script type="text/javascript" src="components.js"></script>
    <script type="text/javascript" src="game.js"></script>
    <title>Squid in Space</title>
    <style type="text/css">
        body, html {
            margin: 0;
            background: #000;
            padding: 0;
            height: 100%;
            width: 100%;
        }
        #wrapper {
            position: absolute;
            height: 100%;
            width: 100%
        }
        #content {
            text-align: center;
            display: table;
            font-family: "FreeMono", "Monospace", "Courier", monospace;
            color: #555;
            font-weight: bold;
            font-size: 32px;
            margin: 0 auto;
            width: 1000px;
            position: absolute;
            height: 100%;
            width: 100%;
        }
        #stage-container {
            margin-top: 20px;
            text-align: center;
            float: left;
        }
        #cr-stage {
            margin: 0 auto;
            border: #333 1px dashed;
        }
        #player-list {
            width: 220px;
            text-align: left;
            float: left;
            line-height: 20px;
            font-size: 12px;
            color: #777;
            padding: 4px;
            margin-top: 20px;
        }
        .avatar {
            display: inline-block;
            height: 8px;
            width: 8px;
        }
        .player {
            display: block;
            width: 100%;
        }
        .error {
            color: #cc6666;
        }
        #start-game {
            text-align: center;
            display: table-cell;
            vertical-align: middle;
        }
        #player-name {
            color: #444;
            border: #333 1px solid;
            background: #000;
            padding: 4px;
            display: inline;
        }
        #game {
            display: none;
        }
    </style>
 <script>
    window.onload = function() {
        var d = function (id) {
            return document.getElementById(id);
        };

        String.prototype.htmlEntities = function() { // hacky for now
            return this.valueOf().replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
        }

        d('start-game').addEventListener('submit', function (e) {
            e.preventDefault();
            d('player-name').style.display = 'none';
            d('game').style.display = 'block';

            Game.init(document.getElementById('player-name').value);
        });

    };
    </script>
</head>
<body>
    <div id="wrapper">
        <div id="content">

            <form id="start-game">
                <input id="player-name" maxlength="16" type="text" placeholder="Enter your name">
            </form>

            <div id="game">
                <div id="player-list"></div>
                <div id="stage-container">
                    <div id="cr-stage"></div>
                    w a s d q e space
                </div>
            </div>
        </div>
    </div>
</body>
</html>
